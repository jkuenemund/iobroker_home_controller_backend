{
  "version": 3,
  "sources": ["../../../src/lib/websocket/routes.ts"],
  "sourcesContent": ["/* eslint-disable jsdoc/require-jsdoc */\n\nimport type { WebSocket } from \"ws\";\nimport type { BaseMessage, GetRoomsRequest, GetSnapshotRequest, HelpRequest } from \"./types\";\nimport { ErrorCodes } from \"./types\";\nimport {\n\thandleGetDevices,\n\thandleGetRooms,\n\thandleGetSnapshot,\n\thandleHelp,\n\thandleRegister,\n\thandleSubscribe,\n\thandleSetState,\n} from \"./handlers\";\nimport type { HandlerContext } from \"./handlers\";\n\nexport function routeMessage(ctx: HandlerContext, ws: WebSocket, message: BaseMessage): void {\n\tswitch (message.type) {\n\t\tcase \"register\":\n\t\t\thandleRegister(ctx, ws, message);\n\t\t\treturn;\n\t\tcase \"getDevices\":\n\t\t\tvoid handleGetDevices(ctx, ws, message);\n\t\t\treturn;\n\t\tcase \"getRooms\":\n\t\t\tvoid handleGetRooms(ctx, ws, message as GetRoomsRequest);\n\t\t\treturn;\n\t\tcase \"getSnapshot\":\n\t\t\tvoid handleGetSnapshot(ctx, ws, message as GetSnapshotRequest);\n\t\t\treturn;\n\t\tcase \"help\":\n\t\t\thandleHelp(ctx, ws, message as HelpRequest);\n\t\t\treturn;\n\t\tcase \"subscribe\":\n\t\t\thandleSubscribe(ctx, ws, message as any);\n\t\t\treturn;\n\t\tcase \"unsubscribe\":\n\t\t\thandleSubscribe(ctx, ws, message as any);\n\t\t\treturn;\n\t\tcase \"setState\":\n\t\t\tvoid handleSetState(ctx, ws, message as any);\n\t\t\treturn;\n\t\tdefault:\n\t\t\tctx.sendError(ws, message.id, ErrorCodes.UNKNOWN_TYPE, `Unknown message type: ${message.type}`);\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,mBAA2B;AAC3B,sBAQO;AAGA,SAAS,aAAa,KAAqB,IAAe,SAA4B;AAC5F,UAAQ,QAAQ,MAAM;AAAA,IACrB,KAAK;AACJ,0CAAe,KAAK,IAAI,OAAO;AAC/B;AAAA,IACD,KAAK;AACJ,eAAK,kCAAiB,KAAK,IAAI,OAAO;AACtC;AAAA,IACD,KAAK;AACJ,eAAK,gCAAe,KAAK,IAAI,OAA0B;AACvD;AAAA,IACD,KAAK;AACJ,eAAK,mCAAkB,KAAK,IAAI,OAA6B;AAC7D;AAAA,IACD,KAAK;AACJ,sCAAW,KAAK,IAAI,OAAsB;AAC1C;AAAA,IACD,KAAK;AACJ,2CAAgB,KAAK,IAAI,OAAc;AACvC;AAAA,IACD,KAAK;AACJ,2CAAgB,KAAK,IAAI,OAAc;AACvC;AAAA,IACD,KAAK;AACJ,eAAK,gCAAe,KAAK,IAAI,OAAc;AAC3C;AAAA,IACD;AACC,UAAI,UAAU,IAAI,QAAQ,IAAI,wBAAW,cAAc,yBAAyB,QAAQ,IAAI,EAAE;AAAA,EAChG;AACD;",
  "names": []
}
